<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<style type="text/css">
		body {
			text-align: center;
			background-color: firebrick;
		}
		.contaier {
			margin: 0 auto;
			width: 300px;
			height: 200px;
			position: relative;
			
		}
		canvas {
			margin: 0 auto;
			position: absolute;
			top: 0;
			left: 0;
		}
		.contaier p {
			font-size: 20px;
			line-height: 200px;
			text-align: center;
			width: 100%;
		}
	</style>
	
	<title></title>
</head>
<body>
	<h3>老段 来开始刮奖了</h3>
	<div class="contaier">
		<p></p>
		<canvas id="canvasId" height="200" width="300">柯柯啊，你换个浏览器</canvas>
	</div>
	
	
	
	<script>
		let canvas = document.getElementById("canvasId");
		let award = document.getElementsByTagName("p")[0];
		let num = 100 * Math.random();
		let result = "宝贝，你运气不好，啥都没有！！！！";
		// alert(num);
		if( num < 100 ) {
			result = "电动牙刷，零食吃多了得好好刷牙";
		}
		if ( num < 70 ) {
			result = "三只松鼠";
		}
		if ( num < 50 ) {
			result = "良品铺子";
		}
		if ( num < 30 ) {
			result = "鲜花饼";
		}
		if ( num < 10 ) {
			result = "一根葱";
		}
		if ( num < 5 ) {
			result = "火鸡面";
		}
		award.innerText = result;
		let dkl = canvas.getContext("2d");
		dkl.fillStyle = "#aaa";
		dkl.fillRect(0, 0, 800, 200);
		dkl.lineCap = "round";
		dkl.lineJoin = "round";
		dkl.lineWidth = 40;
		dkl.globalCompositeOperation = "destination-out";
		let lx,ly,flag = false;
		canvas.ontouchstart = function(e) {
			flag = true;
			lx = e.touches[0].pageX -90;
			ly = e.touches[0].pageY -60;
		}
		canvas.ontouchmove = function(e) {
			if(flag) {
				dkl.beginPath();
				dkl.moveTo(lx,ly);
				dkl.lineTo(e.touches[0].pageX - 90, e.touches[0].pageY - 60);
				dkl.stroke();
				dkl.closePath();
				lx = e.touches[0].pageX - 90;
				ly = e.touches[0].pageY - 60;
			}
		}
		canvas.ontouchend = function(e) {
			flag = false;
		}
	</script>
</body>
</html>








